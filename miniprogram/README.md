# ConvertEase å°ç¨‹åº

> ä¸“ä¸šçš„æ–‡æ¡£å’ŒéŸ³é¢‘æ ¼å¼è½¬æ¢å¾®ä¿¡å°ç¨‹åº

## ğŸ“– é¡¹ç›®æ¦‚è¿°

ConvertEase æ˜¯ä¸€æ¬¾åŸºäºå¾®ä¿¡äº‘æ‰˜ç®¡çš„æ–‡ä»¶æ ¼å¼è½¬æ¢å°ç¨‹åºï¼Œæ”¯æŒå¤šç§æ–‡æ¡£å’ŒéŸ³é¢‘æ ¼å¼çš„ç›¸äº’è½¬æ¢ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡å¾®ä¿¡ç›´æ¥ä¸Šä¼ æ–‡ä»¶ï¼Œåœ¨äº‘ç«¯å®Œæˆè½¬æ¢åä¸‹è½½ã€é¢„è§ˆæˆ–åˆ†äº«è½¬æ¢ç»“æœã€‚

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
miniprogram/
â”œâ”€â”€ app.js                    # å°ç¨‹åºå…¥å£æ–‡ä»¶ï¼Œåˆå§‹åŒ–äº‘å¼€å‘ç¯å¢ƒ
â”œâ”€â”€ app.json                  # å°ç¨‹åºå…¨å±€é…ç½®
â”œâ”€â”€ app.wxss                  # å…¨å±€æ ·å¼
â”œâ”€â”€ project.config.json       # é¡¹ç›®é…ç½®ï¼ˆAppIDã€ç¼–è¯‘é€‰é¡¹ç­‰ï¼‰
â”œâ”€â”€ sitemap.json              # å°ç¨‹åºç´¢å¼•é…ç½®
â”œâ”€â”€ pages/                    # é¡µé¢ç›®å½•
â”‚   â”œâ”€â”€ index/                # é¦–é¡µ - åŠŸèƒ½åˆ†ç±»å…¥å£
â”‚   â”‚   â”œâ”€â”€ index.js
â”‚   â”‚   â”œâ”€â”€ index.json
â”‚   â”‚   â”œâ”€â”€ index.wxml
â”‚   â”‚   â””â”€â”€ index.wxss
â”‚   â”œâ”€â”€ document/             # æ–‡æ¡£è½¬æ¢é¡µé¢
â”‚   â”‚   â”œâ”€â”€ document.js
â”‚   â”‚   â”œâ”€â”€ document.json
â”‚   â”‚   â”œâ”€â”€ document.wxml
â”‚   â”‚   â””â”€â”€ document.wxss
â”‚   â””â”€â”€ audio/                # éŸ³é¢‘è½¬æ¢é¡µé¢
â”‚       â”œâ”€â”€ audio.js
â”‚       â”œâ”€â”€ audio.json
â”‚       â”œâ”€â”€ audio.wxml
â”‚       â””â”€â”€ audio.wxss
â”œâ”€â”€ types/                    # TypeScript ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ global.d.ts           # å¾®ä¿¡ API ç±»å‹å£°æ˜
â””â”€â”€ utils/                    # å·¥å…·å‡½æ•°
    â””â”€â”€ request.ts            # ç½‘ç»œè¯·æ±‚å°è£…
```

## ğŸ”§ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: å¾®ä¿¡å°ç¨‹åºåŸç”Ÿå¼€å‘
- **äº‘æœåŠ¡**: å¾®ä¿¡äº‘å¼€å‘ + äº‘æ‰˜ç®¡
- **åç«¯æœåŠ¡**: Node.js + Express (äº‘æ‰˜ç®¡å®¹å™¨)
- **æ–‡ä»¶è½¬æ¢**: LibreOffice (æ–‡æ¡£) + FFmpeg (éŸ³é¢‘)

## ğŸ“± é¡µé¢åŠŸèƒ½

### 1. é¦–é¡µ (pages/index)

- å±•ç¤ºåŠŸèƒ½åˆ†ç±»å…¥å£ï¼ˆæ–‡æ¡£è½¬æ¢ã€éŸ³é¢‘è½¬æ¢ï¼‰
- æ˜¾ç¤ºæ”¯æŒçš„æ ¼å¼æ ‡ç­¾
- æ”¯æŒåˆ†äº«å°ç¨‹åº

### 2. æ–‡æ¡£è½¬æ¢é¡µé¢ (pages/document)

- **æºæ ¼å¼æ”¯æŒ**: PDF, DOC, DOCX, XLS, XLSX, PPT, PPTX, TXT, RTF, HTML
- **ç›®æ ‡æ ¼å¼æ”¯æŒ**: PDF, DOC, DOCX, XLS, XLSX, PPT, PPTX, TXT, RTF, HTML, CSV, ODT, ODS, ODP
- **è½¬æ¢æ˜ å°„** (åŠ¨æ€ä»æœåŠ¡å™¨åŠ è½½):
  - PDF â†’ DOC, DOCX, PPT, PPTX, XLS, XLSX, TXT, RTF
  - DOC/DOCX â†’ äº’è½¬, RTF, TXT, ODT, HTML, PDF
  - XLS/XLSX â†’ äº’è½¬, ODS, CSV, TXT, PDF, DOC
  - PPT/PPTX â†’ äº’è½¬, ODP, PDF
  - TXT â†’ DOC, DOCX, RTF, ODT, PDF, XLS, XLSX
  - RTF â†’ DOC, DOCX, TXT, ODT
  - HTML â†’ PDF, DOC, DOCX

### 3. éŸ³é¢‘è½¬æ¢é¡µé¢ (pages/audio)

- **æ”¯æŒæ ¼å¼**: MP3, WAV, AAC, FLAC, M4A, OGG, WMA
- **è½¬æ¢æ˜ å°„**:
  - MP3 â†’ WAV, AAC, FLAC, M4A, OGG, WMA
  - WAV â†’ MP3, AAC, FLAC, M4A, OGG, WMA
  - AAC â†’ MP3, WAV, M4A, FLAC
  - FLAC â†’ WAV, MP3, AAC
  - OGG â†’ MP3, WAV, FLAC
  - M4A â†’ MP3, WAV, AAC
  - WMA â†’ MP3, WAV, AAC
- **é¢„è§ˆåŠŸèƒ½**: å†…ç½®éŸ³é¢‘æ’­æ”¾å™¨ï¼Œæ”¯æŒåœ¨çº¿é¢„è§ˆ

## ğŸŒ API æ¥å£æ–‡æ¡£

### äº‘æ‰˜ç®¡é…ç½®

- **ç¯å¢ƒ ID**: `convert-easy-9gy01nt7e03d9579`
- **æœåŠ¡åç§°**: `convert-easy`
- **å…¬ç½‘åŸŸå**: `https://convert-easy-203720-5-1389303207.sh.run.tcloudbase.com`

> è¯¦ç»†é…ç½®è¯´æ˜è¯·æŸ¥çœ‹ [CLOUD_CONFIG.md](./CLOUD_CONFIG.md)

---

### 1. å¥åº·æ£€æŸ¥

**è¯·æ±‚**

```
GET /health
```

**å“åº”**

```json
{
  "ok": true,
  "timestamp": "2025-11-29T10:00:00.000Z",
  "service": "file-convert-backend",
  "version": "1.0.0"
}
```

---

### 2. è·å–æ”¯æŒçš„æ ¼å¼

**è¯·æ±‚**

```
GET /supported-formats?category={category}
```

**å‚æ•°**
| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| category | string | å¦ | `document` æˆ– `audio`ï¼Œä¸ä¼ è¿”å›å…¨éƒ¨ |

**å“åº”**

```json
{
  "document": {
    "allowedExtensions": [".pdf", ".doc", ".docx", ...],
    "supportedConversions": {
      "pdf": ["doc", "docx", "ppt", ...],
      "doc": ["docx", "rtf", "txt", ...],
      ...
    }
  },
  "audio": {
    "allowedExtensions": [".mp3", ".wav", ...],
    "supportedConversions": {
      "mp3": ["wav", "aac", "flac", ...],
      ...
    }
  }
}
```

---

### 3. æ–‡ä»¶ä¸Šä¼ ä¸è½¬æ¢

**æ–¹å¼ä¸€ï¼šç›´æ¥ä¸Šä¼ æ–‡ä»¶ (HTTP)**

```
POST /convert/upload
Content-Type: multipart/form-data
```

| å­—æ®µ     | ç±»å‹   | å¿…å¡« | è¯´æ˜                         |
| -------- | ------ | ---- | ---------------------------- |
| file     | File   | æ˜¯   | è¦è½¬æ¢çš„æ–‡ä»¶                 |
| category | string | æ˜¯   | `document` æˆ– `audio`        |
| target   | string | æ˜¯   | ç›®æ ‡æ ¼å¼ï¼ˆå¦‚ `pdf`, `docx`ï¼‰ |
| source   | string | å¦   | æºæ ¼å¼ï¼Œç”¨äºéªŒè¯             |

**æ–¹å¼äºŒï¼šäº‘å­˜å‚¨ URL è½¬æ¢ (äº‘è°ƒç”¨)**

```
POST /convert/upload
Content-Type: application/json
```

```json
{
  "downloadUrl": "https://xxx.cos.ap-xxx.myqcloud.com/temp/xxx.docx",
  "cloudPath": "temp/xxx.docx",
  "category": "document",
  "target": "pdf",
  "source": "docx"
}
```

**å“åº”**

```json
{
  "taskId": "abc123xyz",
  "message": "ä»»åŠ¡å·²æäº¤ï¼Œæ­£åœ¨å¤„ç†ä¸­"
}
```

---

### 4. æŸ¥è¯¢è½¬æ¢ä»»åŠ¡çŠ¶æ€

**è¯·æ±‚**

```
GET /convert/task/{taskId}
```

**å“åº”**

```json
{
  "state": "finished",
  "url": "https://xxx/public/document_251129.pdf",
  "downloadUrl": "https://xxx/download/document_251129.pdf",
  "previewUrl": "https://xxx/preview/document_251129.pdf",
  "message": null
}
```

**ä»»åŠ¡çŠ¶æ€ (state)**
| çŠ¶æ€ | è¯´æ˜ |
|------|------|
| `queued` | æ’é˜Ÿä¸­ |
| `processing` | è½¬æ¢ä¸­ |
| `finished` | è½¬æ¢å®Œæˆ |
| `error` | è½¬æ¢å¤±è´¥ |

---

### 5. æ–‡ä»¶ä¸‹è½½

**è¯·æ±‚**

```
GET /download/{filename}
```

**å“åº”**: æ–‡ä»¶æµï¼ˆ`Content-Disposition: attachment`ï¼‰

---

### 6. æ–‡ä»¶é¢„è§ˆ

**è¯·æ±‚**

```
GET /preview/{filename}
```

**å“åº”**: æ–‡ä»¶æµï¼ˆæ ¹æ®æ–‡ä»¶ç±»å‹è®¾ç½® Content-Typeï¼‰

---

### 7. é™æ€æ–‡ä»¶è®¿é—®

**è¯·æ±‚**

```
GET /public/{filename}
```

**è¯´æ˜**: ç›´æ¥è®¿é—®å·²è½¬æ¢çš„æ–‡ä»¶

---

### 8. æœåŠ¡å™¨çŠ¶æ€

**è¯·æ±‚**

```
GET /server-status
```

**å“åº”**

```json
{
  "status": "running",
  "timestamp": "2025-11-29T10:00:00.000Z",
  "server": {
    "host": "0.0.0.0",
    "port": 80,
    "publicBaseUrl": "https://xxx.tcloudbase.com"
  },
  "tasks": {
    "total": 10,
    "queued": 1,
    "processing": 2,
    "finished": 6,
    "error": 1
  },
  "files": {
    "uploads": 5,
    "public": 20
  },
  "system": {
    "platform": "linux",
    "arch": "x64",
    "uptime": 86400,
    "freemem": "2.5 GB",
    "totalmem": "8 GB"
  }
}
```

---

### 9. æ‰‹åŠ¨æ¸…ç†

**è¯·æ±‚**

```
POST /cleanup
```

**å“åº”**

```json
{
  "message": "æ¸…ç†å®Œæˆ",
  "timestamp": "2025-11-29T10:00:00.000Z"
}
```

---

### 10. æ£€æµ‹æ–‡ä»¶æ”¯æŒçš„è½¬æ¢ç›®æ ‡

**è¯·æ±‚**

```
POST /detect-targets
Content-Type: multipart/form-data
```

| å­—æ®µ     | ç±»å‹   | å¿…å¡« | è¯´æ˜                  |
| -------- | ------ | ---- | --------------------- |
| file     | File   | æ˜¯   | è¦æ£€æµ‹çš„æ–‡ä»¶          |
| category | string | æ˜¯   | `document` æˆ– `audio` |

**å“åº”**

```json
{
  "filename": "example.docx",
  "category": "document",
  "sourceExtension": ".docx",
  "supportedTargets": ["doc", "rtf", "txt", "odt", "html", "pdf"],
  "canConvert": true
}
```

## ğŸ”„ è½¬æ¢æµç¨‹

### æ–‡æ¡£è½¬æ¢æµç¨‹ï¼ˆäº‘è°ƒç”¨æ–¹å¼ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ç”¨æˆ·é€‰æ‹©æ–‡ä»¶                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  wx.cloud.uploadFile() â†’ ä¸Šä¼ åˆ°äº‘å­˜å‚¨                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  wx.cloud.getTempFileURL() â†’ è·å–ä¸´æ—¶ä¸‹è½½é“¾æ¥                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  wx.cloud.callContainer() â†’ è°ƒç”¨äº‘æ‰˜ç®¡ /convert/upload        â”‚
â”‚  ä¼ é€’: { downloadUrl, cloudPath, category, target, source }  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  äº‘æ‰˜ç®¡æœåŠ¡ç«¯ä¸‹è½½æ–‡ä»¶ â†’ LibreOffice/Python è„šæœ¬è½¬æ¢            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è½®è¯¢ /convert/task/{taskId} è·å–çŠ¶æ€                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è½¬æ¢å®Œæˆ â†’ è¿”å›æ–‡ä»¶ URL â†’ ç”¨æˆ·ä¸‹è½½/é¢„è§ˆ/åˆ†äº«                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### éŸ³é¢‘è½¬æ¢æµç¨‹ï¼ˆHTTP ç›´ä¼ æ–¹å¼ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  wx.uploadFile() â†’ ç›´æ¥ä¸Šä¼ åˆ° /convert/upload                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æœåŠ¡ç«¯æ¥æ”¶æ–‡ä»¶ â†’ FFmpeg è½¬æ¢                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è½®è¯¢ä»»åŠ¡çŠ¶æ€ â†’ è½¬æ¢å®Œæˆ â†’ è¿”å›æ–‡ä»¶ URL                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ ç±»å‹å®šä¹‰

### TypeScript ç±»å‹ (utils/request.ts)

```typescript
type UploadForConvertParams = {
  filePath: string;
  targetFormat: string;
  category: "document" | "audio";
};

type TaskResponse = {
  taskId: string;
};

type TaskStatus = {
  state: "queued" | "processing" | "finished" | "error";
  url?: string;
  message?: string;
};
```

### æ–‡ä»¶åˆ—è¡¨é¡¹ç»“æ„

```typescript
interface FileItem {
  path: string; // æœ¬åœ°ä¸´æ—¶æ–‡ä»¶è·¯å¾„
  name: string; // æ–‡ä»¶å
  size: string; // æ ¼å¼åŒ–åçš„æ–‡ä»¶å¤§å°
  status: "pending" | "processing" | "success" | "error";
  taskId?: string; // è½¬æ¢ä»»åŠ¡ ID
  downloadUrl?: string; // è½¬æ¢åçš„ä¸‹è½½é“¾æ¥
  sourceFormat?: string; // æºæ ¼å¼
  fileExt?: string; // æ–‡ä»¶æ‰©å±•å
}
```

## âš™ï¸ é…ç½®è¯´æ˜

### app.js å…¨å±€é…ç½®

```javascript
App({
  globalData: {
    useCloudContainer: true, // ä½¿ç”¨äº‘æ‰˜ç®¡
    // apiBaseUrl: 'https://xxx.com',  // éŸ³é¢‘è½¬æ¢ä½¿ç”¨çš„åç«¯åœ°å€
  },
});
```

### äº‘ç¯å¢ƒé…ç½®

- **äº‘å¼€å‘ç¯å¢ƒ**: `convert-easy-9gy01nt7e03d9579`
- **äº‘æ‰˜ç®¡ç¯å¢ƒ**: `prod-2gyfay7ve535c92a`
- **æœåŠ¡åç§°**: `convert`

## ğŸš€ å¼€å‘æŒ‡å—

### 1. æœ¬åœ°å¼€å‘

```bash
# ä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·æ‰“å¼€é¡¹ç›®
# AppID: wx493fcbabab2b07bf
```

### 2. è°ƒè¯•æ¨¡å¼

- åœ¨ `document.js` ä¸­çš„ `testCloudConnection()` å¯æµ‹è¯•äº‘æ‰˜ç®¡è¿æ¥
- æ§åˆ¶å°ä¼šè¾“å‡ºè¯¦ç»†çš„è¯·æ±‚å’Œå“åº”æ—¥å¿—

### 3. æ³¨æ„äº‹é¡¹

- æ–‡æ¡£è½¬æ¢ä½¿ç”¨**äº‘è°ƒç”¨æ–¹å¼**ï¼ˆå…ˆä¸Šä¼ äº‘å­˜å‚¨ï¼Œå†ä¼  URL ç»™äº‘æ‰˜ç®¡ï¼‰
- éŸ³é¢‘è½¬æ¢ä½¿ç”¨ **HTTP ç›´ä¼ æ–¹å¼**ï¼ˆéœ€é…ç½® `apiBaseUrl`ï¼‰
- æ–‡ä»¶æ‰©å±•åéªŒè¯ä¸¥æ ¼ï¼Œå‰ç«¯é€‰æ‹©çš„æ ¼å¼å¿…é¡»ä¸å®é™…æ–‡ä»¶æ ¼å¼åŒ¹é…
- è½¬æ¢è¶…æ—¶æ—¶é—´ä¸º 5 åˆ†é’Ÿ

## ğŸ“‹ é™åˆ¶è¯´æ˜

- **æ–‡ä»¶å¤§å°é™åˆ¶**: ç”±åç«¯é…ç½®å†³å®š
- **å¹¶å‘è½¬æ¢æ•°**: åç«¯é™åˆ¶
- **æ–‡ä»¶è¿‡æœŸæ—¶é—´**: 24 å°æ—¶åè‡ªåŠ¨æ¸…ç†
- **æ”¯æŒé¢„è§ˆæ ¼å¼**: PDF, DOC, DOCX, XLS, XLSX, PPT, PPTX

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- CORS è·¨åŸŸé…ç½®
- é€Ÿç‡é™åˆ¶ï¼ˆ120 æ¬¡/åˆ†é’Ÿï¼‰
- è·¯å¾„éå†æ”»å‡»é˜²æŠ¤
- æ–‡ä»¶ç±»å‹ç™½åå•éªŒè¯

## ğŸ“„ License

MIT License
